(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2955:function(e,t,a){Promise.resolve().then(a.bind(a,2257))},2257:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Q}});var r=a(7437),s=a(2265);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),i=e=>{let t=d(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},x=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:i="",children:x,iconNode:h,...m}=e;return(0,s.createElement)("svg",{ref:t,...c,width:r,height:r,stroke:a,strokeWidth:d?24*Number(n)/Number(r):n,className:l("lucide",i),...!x&&!o(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(x)?x:[x]])}),h=(e,t)=>{let a=(0,s.forwardRef)((a,r)=>{let{className:d,...c}=a;return(0,s.createElement)(x,{ref:r,iconNode:t,className:l("lucide-".concat(n(i(e))),"lucide-".concat(e),d),...c})});return a.displayName=i(e),a},m=h("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),p=h("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),b=h("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),g=h("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),u=h("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),j=h("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),k=h("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),f=h("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var v=a(998),N=a(9512);let y={bg:"bg-[#FDFBF7] dark:bg-[#121212]",paper:"bg-white dark:bg-[#1E1E1E]",primary:"bg-[#8D7B68] hover:bg-[#7A6A59] dark:bg-[#6D5B4B] dark:hover:bg-[#5C4A3A]",text:"text-[#4A4543] dark:text-[#E0E0E0]",border:"border-[#F0EAE4] dark:border-[#333333]"},w=()=>new Date().toISOString().split("T")[0],E=e=>{if(!e)return{date:"",type:"FULL"};let t=e.match(/^(\d{4}-\d{2}-\d{2})(?:\s*\((AM|PM)\))?$/);return t?{date:t[1],type:t[2]||"FULL"}:{date:e,type:"FULL"}},D=e=>{if(!e||""===e.trim())return!1;let t=e.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!t)return!1;let a=new Date(e);if(isNaN(a.getTime()))return!1;let[r,s,l,n]=t;return a.getFullYear()===parseInt(s)&&a.getMonth()===parseInt(l)-1&&a.getDate()===parseInt(n)},A=e=>{let{date:t,type:a}=E(e);if(!t||isNaN(new Date(t).getTime()))return e;let r=new Date(t),s="".concat(r.getMonth()+1,"/").concat(r.getDate(),"(").concat(["일","월","화","수","목","금","토"][r.getDay()],")");return"FULL"===a?s:"".concat(s," ").concat(a)},C=h("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),F=h("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),B=h("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);function M(e){var t,a;let{session:l,signIn:n,signOut:d}=e,[i,c]=(0,s.useState)(!1);return l?(0,r.jsxs)("div",{className:"relative ml-2",children:[(0,r.jsx)("button",{onClick:()=>c(!i),className:"flex items-center justify-center w-10 h-10 rounded-full overflow-hidden border-2 border-[#7A6A59] dark:border-[#444444] hover:border-[#EBE5DD] transition focus:outline-none",title:"사용자 메뉴",children:(null===(t=l.user)||void 0===t?void 0:t.image)?(0,r.jsx)("img",{src:l.user.image,alt:"Profile",className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full bg-[#7A6A59] flex items-center justify-center text-white",children:(0,r.jsx)(j,{className:"w-5 h-5"})})}),i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10 cursor-default",onClick:()=>c(!1)}),(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-[#2C2C2C] rounded-xl shadow-xl border border-[#F0EAE4] dark:border-[#444444] z-20 overflow-hidden py-1 animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-[#F0EAE4] dark:border-[#444444]",children:[(0,r.jsx)("p",{className:"text-sm font-bold text-[#5C5552] dark:text-[#E0E0E0] truncate",children:(null===(a=l.user)||void 0===a?void 0:a.name)||"사용자"}),(0,r.jsx)("p",{className:"text-xs text-[#A4907C] dark:text-[#A0A0A0] mt-1 flex items-center gap-1",children:l.isAdmin?(0,r.jsxs)("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-1.5 py-0.5 rounded flex items-center gap-1 font-medium",children:[(0,r.jsx)(F,{className:"w-3 h-3"})," 관리자 (Editor)"]}):(0,r.jsx)("span",{className:"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 px-1.5 py-0.5 rounded font-medium",children:"일반 사용자 (Viewer)"})})]}),(0,r.jsxs)("button",{onClick:()=>d(),className:"w-full text-left px-4 py-3 text-sm text-red-500 hover:bg-[#F9F7F2] dark:hover:bg-[#3D3D3D] flex items-center gap-2 transition-colors font-medium",children:[(0,r.jsx)(B,{className:"w-4 h-4"})," 로그아웃"]})]})]})]}):(0,r.jsxs)("button",{onClick:()=>n("google"),className:"ml-2 bg-[#7A6A59] dark:bg-[#4A3B2F] hover:bg-[#6B5D4D] text-[#EBE5DD] hover:text-white px-4 py-2 rounded-full transition text-sm font-bold flex items-center gap-2 shadow-sm",children:[(0,r.jsx)(C,{className:"w-4 h-4"})," 로그인"]})}let S=h("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),L=h("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function T(e){let{todayLeaves:t,loading:a,statusMsg:s}=e,l="자동 동기화",n=F,d=!1;return a||"저장 중..."===s||"수정 중..."===s||"삭제 중..."===s||"추가 중..."===s?(l=s||"동기화 중...",n=S,d=!0):s&&(l=s,n=F),(0,r.jsxs)("div",{className:"bg-[#8D7B68] dark:bg-[#5C4A3A] text-white p-5 rounded-2xl shadow-lg flex items-center justify-between mb-4 h-full transition-colors duration-300",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-sm opacity-90 mb-1 flex items-center gap-1",children:[(0,r.jsx)(L,{className:"w-4 h-4"})," 오늘의 현황"]}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:t.length>0?"".concat(t.length,"명 휴가 중"):"전원 출근"}),t.length>0&&(0,r.jsx)("div",{className:"text-xs mt-2 opacity-80 flex flex-wrap gap-2",children:t.map((e,a)=>(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[e.name,"AM"===e.leaveType&&(0,r.jsx)("span",{className:"bg-white/20 px-1 rounded text-[10px]",children:"AM"}),"PM"===e.leaveType&&(0,r.jsx)("span",{className:"bg-white/20 px-1 rounded text-[10px]",children:"PM"}),a<t.length-1&&(0,r.jsx)("span",{children:","})]},a))})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,r.jsx)("div",{className:"bg-white/20 p-3 rounded-full transition-all duration-300 ".concat(d?"animate-spin":""),children:(0,r.jsx)(n,{className:"w-6 h-6 text-white"})}),(0,r.jsx)("span",{className:"text-[10px] opacity-80 font-medium",children:l})]})]})}let P=h("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),O=h("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),U=e=>{let{session:t,invalidLeaves:a,sundayLeaves:s}=e;return(null==t?void 0:t.isAdmin)&&(0!==a.length||0!==s.length)?(0,r.jsx)("div",{className:"mb-4 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-300 dark:border-amber-700 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-start gap-3 text-amber-800 dark:text-amber-300",children:[(0,r.jsx)("span",{className:"text-xl shrink-0",children:"⚠️"}),(0,r.jsxs)("div",{className:"flex-1",children:[a.length>0&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("p",{className:"font-bold text-sm mb-2",children:"잘못된 날짜 형식이 감지되었습니다"}),(0,r.jsxs)("ul",{className:"text-xs space-y-1 mb-2",children:[a.slice(0,5).map((e,t)=>(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:e.name}),": ",(0,r.jsxs)("code",{className:"px-1 py-0.5 bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 rounded text-[10px]",children:['"',e.original,'"']})]},t)),a.length>5&&(0,r.jsxs)("li",{className:"opacity-70",children:["... 외 ",a.length-5,"건"]})]})]}),s.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold text-sm mb-2",children:"일요일 연차가 감지되었습니다"}),(0,r.jsxs)("ul",{className:"text-xs space-y-1 mb-2",children:[s.slice(0,5).map((e,t)=>(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:e.name}),": ",(0,r.jsxs)("code",{className:"px-1 py-0.5 bg-orange-100 dark:bg-orange-900/40 text-orange-700 dark:text-orange-300 rounded text-[10px]",children:['"',e.original,'"']})]},t)),s.length>5&&(0,r.jsxs)("li",{className:"opacity-70",children:["... 외 ",s.length-5,"건"]})]})]}),(0,r.jsx)("p",{className:"text-xs opacity-80",children:"\uD83D\uDCA1 항목을 클릭하여 수정하거나 삭제할 수 있습니다."})]})]})}):null};function H(e){let{leaves:t,onLeaveClick:a,onLeaveDelete:s,session:l,getTodayString:n,formatDate:d,todayMonth:i,invalidLeaves:c,sundayLeaves:o}=e;return(0,r.jsxs)("div",{className:"bg-white dark:bg-[#1E1E1E] p-5 rounded-2xl shadow-sm border border-[#F0EAE4] dark:border-[#333333] mb-6 transition-colors duration-300",children:[(0,r.jsxs)("h3",{className:"text-[#5C5552] dark:text-[#E0E0E0] font-bold mb-4 flex items-center gap-2 text-lg",children:[(0,r.jsx)(P,{className:"w-5 h-5 text-[#8D7B68] dark:text-[#A4907C]"})," ",i,"월 연차 일정"]}),(0,r.jsx)(U,{session:l,invalidLeaves:c,sundayLeaves:o}),0===t.length?(0,r.jsx)("div",{className:"text-center py-6 text-[#A4907C] dark:text-[#8D7B68] text-sm bg-[#FDFBF7] dark:bg-[#121212] rounded-xl transition-colors duration-300",children:"이번 달 예정된 연차가 없습니다."}):(0,r.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>{let i=e.date<n(),c="AM"===e.type?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200":"PM"===e.type?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200":"bg-[#EBE5DD] dark:bg-[#2C2C2C] text-[#8D7B68] dark:text-[#A4907C]";return(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-xl transition-colors duration-300 ".concat(e.isDuplicate?"bg-red-50 dark:bg-red-900/20 border-2 border-red-300 dark:border-red-700":i?"bg-[#F5F5F5] dark:bg-[#2A2A2A] opacity-60":"bg-[#FDFBF7] dark:bg-[#121212] border border-[#EBE5DD] dark:border-[#444444]"),children:[(0,r.jsxs)("div",{onClick:()=>a(e.name,e.original,e.date),className:"flex items-center gap-3 flex-1 cursor-pointer hover:opacity-70 transition-opacity",title:e.warning||void 0,children:[(0,r.jsx)("span",{className:"text-sm font-bold ".concat(e.isDuplicate?"text-red-700 dark:text-red-300":i?"text-gray-500 dark:text-gray-400":"text-[#8D7B68] dark:text-[#A4907C]"),children:d(e.original)}),(0,r.jsx)("div",{className:"h-4 w-[1px] bg-[#EBE5DD] dark:bg-[#444444]"}),(0,r.jsx)("span",{className:"font-medium ".concat(e.isDuplicate?"text-red-700 dark:text-red-300":"text-[#5C5552] dark:text-[#E0E0E0]"),children:e.name}),(0,r.jsx)("span",{className:"text-xs text-[#A4907C] dark:text-[#C4B09C] bg-white dark:bg-[#2C2C2C] px-1.5 py-0.5 rounded border border-[#EBE5DD] dark:border-[#444444]",children:e.role}),"FULL"!==e.type&&(0,r.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-bold ".concat(c),children:e.type})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.date===n()&&(0,r.jsx)("span",{className:"text-xs bg-[#8D7B68] dark:bg-[#5C4A3A] text-white px-2 py-1 rounded-full font-bold",children:"Today"}),(null==l?void 0:l.isAdmin)&&(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),s(e.name,e.original)},className:"p-1.5 rounded-full transition-colors ".concat(e.isDuplicate?"hover:bg-red-200 dark:hover:bg-red-800/50 text-red-500 hover:text-red-600":"hover:bg-red-100 dark:hover:bg-red-900/30 text-[#DBCCC0] hover:text-red-500 dark:hover:text-red-400"),title:"삭제",children:(0,r.jsx)(O,{className:"w-4 h-4"})})]})]},t)})})]})}let I=h("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),z=h("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),_=e=>{let{session:t,invalidLeaves:a,sundayLeaves:s}=e;return(null==t?void 0:t.isAdmin)&&(0!==a.length||0!==s.length)?(0,r.jsx)("div",{className:"mb-4 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-300 dark:border-amber-700 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-start gap-3 text-amber-800 dark:text-amber-300",children:[(0,r.jsx)("span",{className:"text-xl shrink-0",children:"⚠️"}),(0,r.jsxs)("div",{className:"flex-1",children:[a.length>0&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("p",{className:"font-bold text-sm mb-2",children:"잘못된 날짜 형식이 감지되었습니다"}),(0,r.jsxs)("ul",{className:"text-xs space-y-1 mb-2",children:[a.slice(0,5).map((e,t)=>(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:e.name}),": ",(0,r.jsxs)("code",{className:"px-1 py-0.5 bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 rounded text-[10px]",children:['"',e.original,'"']})]},t)),a.length>5&&(0,r.jsxs)("li",{className:"opacity-70",children:["... 외 ",a.length-5,"건"]})]})]}),s.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold text-sm mb-2",children:"일요일 연차가 감지되었습니다"}),(0,r.jsxs)("ul",{className:"text-xs space-y-1 mb-2",children:[s.slice(0,5).map((e,t)=>(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:e.name}),": ",(0,r.jsxs)("code",{className:"px-1 py-0.5 bg-orange-100 dark:bg-orange-900/40 text-orange-700 dark:text-orange-300 rounded text-[10px]",children:['"',e.original,'"']})]},t)),s.length>5&&(0,r.jsxs)("li",{className:"opacity-70",children:["... 외 ",s.length-5,"건"]})]})]}),(0,r.jsx)("p",{className:"text-xs opacity-80",children:"\uD83D\uDCA1 항목을 클릭하여 수정하거나 삭제할 수 있습니다."})]})]})}):null};function V(e){let{viewDate:t,setViewDate:a,staffData:s,session:l,invalidLeaves:n,sundayLeaves:d,handlers:i}=e,{handleLeaveClick:c,handleLeaveDelete:o,handleLeaveAdd:x}=i,h=t.getFullYear(),m=t.getMonth(),p=new Date(h,m,1).getDay(),b=new Date(h,m+1,0).getDate(),g=e=>{let r=new Date(t);r.setMonth(r.getMonth()+e),a(r)},u=e=>{let t="".concat(h,"-").concat(String(m+1).padStart(2,"0"),"-").concat(String(e).padStart(2,"0")),a=[],r=0===new Date(h,m,e).getDay();s.forEach(e=>{e.leaves&&e.leaves.forEach(r=>{let s=E(r.parsed);s.date&&D(s.date)&&s.date===t&&a.push({name:e.name,role:e.role,type:s.type,original:r.original})})});let l={};return a.forEach(e=>{l[e.name]=(l[e.name]||0)+1}),a.map(e=>({...e,isDuplicate:l[e.name]>1,isSunday:r,warning:l[e.name]>1?"".concat(e.name,"님이 이 날짜에 ").concat(l[e.name],"번 등록되어 있습니다."):r?"일요일에 연차가 등록되었습니다.":null}))};return(0,r.jsxs)("div",{className:"bg-white dark:bg-[#1E1E1E] p-6 rounded-2xl shadow-sm border border-[#F0EAE4] dark:border-[#333333] mb-6 transition-colors duration-300",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-[#5C5552] dark:text-[#E0E0E0] flex items-center gap-2",children:[(0,r.jsx)(P,{className:"w-5 h-5 text-[#8D7B68] dark:text-[#A4907C]"}),h,"년 ",m+1,"월 일정"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>g(-1),className:"p-1 hover:bg-[#F2EBE5] dark:hover:bg-[#2D2D2D] rounded-full text-[#8D7B68] dark:text-[#A4907C] transition-colors",children:(0,r.jsx)(I,{})}),(0,r.jsx)("button",{onClick:()=>a(new Date),className:"text-sm px-3 py-1 bg-[#F2EBE5] dark:bg-[#2D2D2D] rounded-full text-[#8D7B68] dark:text-[#A4907C] font-bold transition-colors",children:"오늘"}),(0,r.jsx)("button",{onClick:()=>g(1),className:"p-1 hover:bg-[#F2EBE5] dark:hover:bg-[#2D2D2D] rounded-full text-[#8D7B68] dark:text-[#A4907C] transition-colors",children:(0,r.jsx)(z,{})})]})]}),(0,r.jsx)(_,{session:l,invalidLeaves:n,sundayLeaves:d}),(0,r.jsxs)("div",{className:"grid grid-cols-7 border-t border-l border-[#F0EAE4] dark:border-[#333333]",children:[["SUN","MON","TUE","WED","THU","FRI","SAT"].map((e,t)=>(0,r.jsx)("div",{className:"text-center text-xs font-bold py-2 border-r border-b border-[#F0EAE4] dark:border-[#333333] bg-[#FDFBF7] dark:bg-[#121212] ".concat(0===t?"text-red-400":6===t?"text-blue-400":"text-[#8D7B68] dark:text-[#A4907C]"),children:e},e)),Array.from({length:p}).map((e,t)=>(0,r.jsx)("div",{className:"h-24 border-r border-b border-[#F0EAE4] dark:border-[#333333] bg-[#FAFAFA] dark:bg-[#1A1A1A]"},"empty-".concat(t))),Array.from({length:b}).map((e,t)=>{let a=t+1,s="".concat(h,"-").concat(String(m+1).padStart(2,"0"),"-").concat(String(a).padStart(2,"0")),n=u(a),d=a===new Date().getDate()&&m===new Date().getMonth()&&h===new Date().getFullYear(),i=new Date(h,m,a).getDay();return(0,r.jsxs)("div",{className:"h-24 border-r border-b border-[#F0EAE4] dark:border-[#333333] p-1 relative hover:bg-[#FDFBF7] dark:hover:bg-[#252525] transition group ".concat(d?"bg-[#FFF9F0] dark:bg-[#2C241B]":""),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,r.jsxs)("span",{className:"text-sm font-bold ".concat(0===i?"text-red-400":6===i?"text-blue-400":"text-[#5C5552] dark:text-[#A0A0A0]"),children:[a," ",d&&(0,r.jsx)("span",{className:"text-[10px] bg-[#8D7B68] dark:bg-[#5C4A3A] text-white px-1.5 rounded-full ml-1 align-top",children:"Today"})]}),(null==l?void 0:l.isAdmin)&&(0,r.jsx)("button",{onClick:()=>x(s),className:"opacity-0 group-hover:opacity-100 p-0.5 rounded hover:bg-[#EBE5DD] dark:hover:bg-[#3D3D3D] text-[#8D7B68] dark:text-[#A4907C] transition-opacity",title:"연차 추가",children:(0,r.jsx)(k,{className:"w-4 h-4"})})]}),(0,r.jsx)("div",{className:"mt-1 flex flex-col gap-1 overflow-y-auto max-h-[calc(100%-28px)] custom-scrollbar",children:n.map((e,t)=>(0,r.jsxs)("div",{className:"text-xs px-1.5 py-0.5 rounded border flex items-center justify-between group/item cursor-pointer transition-colors\n                      ".concat(e.isDuplicate?"bg-red-100 dark:bg-red-900/30 border-red-300 dark:border-red-700 text-red-700 dark:text-red-300":e.isSunday?"bg-orange-100 dark:bg-orange-900/30 border-orange-300 dark:border-orange-700 text-orange-800 dark:text-orange-200":"bg-[#F2EBE5] dark:bg-[#2D2D2D] text-[#5C5552] dark:text-[#E0E0E0] border-[#EBE5DD] dark:border-[#444444] hover:bg-[#EBE5DD] dark:hover:bg-[#3D3D3D]"),children:[(0,r.jsxs)("div",{onClick:()=>c(e.name,e.original,s),className:"flex-1 flex items-center gap-1 min-w-0 truncate",title:e.warning||"".concat(e.name," (").concat(e.role,") - 클릭하여 수정"),children:[(0,r.jsx)("strong",{className:"truncate",children:e.name}),"AM"===e.type&&(0,r.jsx)("span",{className:"text-[9px] bg-yellow-200 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-200 px-1 rounded shrink-0",children:"AM"}),"PM"===e.type&&(0,r.jsx)("span",{className:"text-[9px] bg-orange-200 text-orange-800 dark:bg-orange-900/40 dark:text-orange-200 px-1 rounded shrink-0",children:"PM"})]}),(null==l?void 0:l.isAdmin)&&(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e.name,e.original)},className:"opacity-0 group-hover/item:opacity-100 p-0.5 rounded transition-opacity ml-1 shrink-0\n                          ".concat(e.isDuplicate?"hover:bg-red-200 dark:hover:bg-red-800/50 text-red-500 hover:text-red-600":"hover:bg-red-100 dark:hover:bg-red-900/30 text-[#DBCCC0] hover:text-red-500 dark:hover:text-red-400"),title:"삭제",children:(0,r.jsx)(O,{className:"w-3 h-3"})})]},t))})]},a)})]})]})}function Y(){return(0,r.jsxs)("div",{className:"bg-white dark:bg-[#1E1E1E] p-6 rounded-2xl shadow-sm border border-[#F0EAE4] dark:border-[#333333] sticky top-6 h-fit transition-colors duration-300",children:[(0,r.jsx)("h3",{className:"font-bold text-lg mb-4 text-[#5C5552] dark:text-[#E0E0E0] flex items-center gap-2",children:"\uD83D\uDCA1 사용 가이드"}),(0,r.jsxs)("div",{className:"space-y-6 text-sm text-[#5C5552] dark:text-[#A0A0A0]",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-[#8D7B68] dark:text-[#A4907C] mb-2 flex items-center gap-2",children:"1. 권한 안내"}),(0,r.jsxs)("ul",{className:"list-disc pl-4 space-y-1",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{className:"text-[#5C5552] dark:text-[#E0E0E0]",children:"관리자"}),": 연차 추가/수정/삭제, 직원 관리 ",(0,r.jsx)("span",{className:"text-xs text-green-600",children:"(편집 권한 필요)"})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{className:"text-[#A4907C] dark:text-[#C4B09C]",children:"일반 사용자"}),": 달력 조회만 가능"]})]})]}),(0,r.jsx)("div",{className:"h-px bg-[#F0EAE4] dark:bg-[#333333]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-[#8D7B68] dark:text-[#A4907C] mb-2",children:"2. 연차 등록 및 관리"}),(0,r.jsx)("p",{className:"mb-2",children:"두 가지 방법으로 가능합니다:"}),(0,r.jsxs)("ul",{className:"list-disc pl-4 space-y-1 mb-3 text-xs",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"웹에서 추가"}),": 달력 날짜에 마우스를 올리고 ",(0,r.jsx)("span",{className:"bg-[#EBE5DD] dark:bg-[#444444] px-1 rounded font-bold text-[#8D7B68] dark:text-[#A4907C]",children:"+"})," 버튼 클릭"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"구글 시트"}),": 빈 칸에 날짜 직접 입력 (예: 01/15)"]})]}),(0,r.jsxs)("div",{className:"bg-[#FDFBF7] dark:bg-[#121212] p-3 rounded-lg border border-[#F0EAE4] dark:border-[#333333] space-y-2 font-mono text-xs mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"종일 연차"}),(0,r.jsx)("span",{className:"font-bold text-[#5C5552] dark:text-[#E0E0E0]",children:"01/15"})]}),(0,r.jsxs)("div",{className:"flex justify-between text-yellow-700 dark:text-yellow-400",children:[(0,r.jsx)("span",{children:"오전 반차"}),(0,r.jsx)("span",{className:"font-bold",children:"01/15 AM"})]}),(0,r.jsxs)("div",{className:"flex justify-between text-orange-700 dark:text-orange-400",children:[(0,r.jsx)("span",{children:"오후 반차"}),(0,r.jsx)("span",{className:"font-bold",children:"01/15 PM"})]})]}),(0,r.jsxs)("p",{className:"text-xs text-[#5C5552] dark:text-[#A0A0A0] bg-[#F2EBE5] dark:bg-[#2D2D2D] p-2 rounded",children:["\uD83D\uDCA1 ",(0,r.jsx)("strong",{children:"Tip:"})," 날짜 셀에 마우스를 올리면 + 버튼이 나타납니다. 클릭하여 ",(0,r.jsx)("strong",{children:"수정/삭제"}),"도 가능합니다!"]})]}),(0,r.jsx)("div",{className:"h-px bg-[#F0EAE4] dark:bg-[#333333]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-[#8D7B68] dark:text-[#A4907C] mb-2",children:"3. 데이터 확인 및 경고"}),(0,r.jsxs)("ul",{className:"list-disc pl-4 space-y-1",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-red-500 font-bold",children:"빨간 배경"}),": 같은 날 중복 입력 시 표시됩니다."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-amber-500 font-bold",children:"⚠️ 스프레드시트 확인"}),": 날짜 형식 오류 시 우측 상단에 표시됩니다."]}),(0,r.jsx)("li",{children:"상세 오류 목록은 달력 위에서 확인 가능합니다."})]})]}),(0,r.jsx)("div",{className:"h-px bg-[#F0EAE4] dark:bg-[#333333]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-[#8D7B68] dark:text-[#A4907C] mb-2",children:"4. 주의사항"}),(0,r.jsxs)("ul",{className:"list-disc pl-4 space-y-1",children:[(0,r.jsxs)("li",{children:["구글 시트의 ",(0,r.jsx)("strong",{children:"편집 권한"}),"이 있어야 관리자 기능이 활성화됩니다."]}),(0,r.jsxs)("li",{children:["직원 이름은 ",(0,r.jsx)("strong",{children:"수정 불가"}),"합니다. (데이터 연결 기준)"]}),(0,r.jsx)("li",{children:"오타 발생 시 삭제 후 다시 추가해주세요."}),(0,r.jsxs)("li",{children:["시트 데이터는 ",(0,r.jsx)("strong",{children:"1초 후 자동 동기화"}),"됩니다."]})]})]}),(0,r.jsx)("a",{href:"https://docs.google.com/spreadsheets/d/1dmMlb4IxUQO9AZBVSAgS72cXDJqWDLicx-FL0IzH5Eo/edit#gid=191374435",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-[#8D7B68] dark:text-[#A4907C] hover:text-[#6B5D4D] dark:hover:text-[#C4B09C] font-medium text-sm transition-colors mt-4",children:"\uD83D\uDCC4 구글 시트 바로가기 →"})]})]})}let J=e=>{let[t,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(!1),[n,d]=(0,s.useState)(""),[i,c]=(0,s.useState)(null),o=(0,s.useCallback)(async()=>{l(!0);try{let e=await fetch("/api/sheets");if(!e.ok)throw Error("HTTP Error: ".concat(e.status));let t=await e.json();a(t&&t.length>0?t:[]),d("동기화 완료")}catch(e){console.error("Fetch Error:",e),a([]),d("데이터 로드 실패")}finally{l(!1),setTimeout(()=>d(""),3e3)}},[]),x=(0,s.useCallback)(async a=>{if(!e){alert("로그인이 필요합니다.");return}d("저장 중...");try{let e=await fetch("/api/sheets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a||t)});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.error||t.message||"Failed to save")}d("저장됨"),setTimeout(()=>d(""),2e3)}catch(e){if(console.error("Save Error:",e),e.message&&(e.message.includes("invalid authentication")||e.message.includes("credentials")||e.message.includes("access token"))){alert("세션이 만료되었습니다. 다시 로그인해주세요."),(0,v.signOut)();return}d("저장 실패")}},[e,t]),h=(0,s.useCallback)((r,s,l)=>{if(!(null==e?void 0:e.isAdmin))return;let n=[...t];if(n[r][s]=l,"date"===s&&l){let e=new Date(l),t=new Date,a=t.getFullYear()-e.getFullYear(),s=t.getMonth()-e.getMonth();(s<0||0===s&&t.getDate()<e.getDate())&&a--;let d=a<1?11:15+Math.floor((a-1)/2);d>25&&(d=25),n[r].total=d}a(n),i&&clearTimeout(i),c(setTimeout(()=>{x(n)},1e3))},[null==e?void 0:e.isAdmin,t,i,x]),m=(0,s.useCallback)(()=>{if(!(null==e?void 0:e.isAdmin))return;let r=t;if(t.some(e=>e.isNew)){let e=t.map(e=>{if(e.isNew){let{isNew:t,...a}=e;return a}return e});a(e),r=e}i&&clearTimeout(i),x(r)},[null==e?void 0:e.isAdmin,t,i,x]);return{staffData:t,setStaffData:a,loading:r,statusMsg:n,fetchSheetData:o,saveSheetData:x,handleUpdate:h,handleBlur:m}},W=e=>{let t=(0,s.useCallback)(()=>{let t=new Date,a=t.getMonth(),r=t.getFullYear(),s=[];e.forEach(e=>{e.leaves&&Array.isArray(e.leaves)&&e.leaves.forEach(t=>{let{date:l,type:n}=E(t.parsed);if(l&&D(l)){let d=new Date(l);d.getMonth()===a&&d.getFullYear()===r&&s.push({original:t.original,date:l,type:n,dateObj:d,name:e.name,role:e.role})}})});let l=s.sort((e,t)=>e.dateObj.getTime()-t.dateObj.getTime()),n={};return l.forEach(e=>{let t="".concat(e.name,"_").concat(e.date);n[t]=(n[t]||0)+1}),l.map(e=>{let t="".concat(e.name,"_").concat(e.date);return{...e,isDuplicate:n[t]>1,warning:n[t]>1?"".concat(e.name,"님이 이 날짜에 ").concat(n[t],"번 등록되어 있습니다."):null}})},[e]);return{getCurrentMonthLeaves:t,getTodayLeaves:(0,s.useCallback)(()=>{let t=w(),a=[];return e.forEach(e=>{e.leaves&&e.leaves.forEach(r=>{let{date:s,type:l}=E(r.parsed);s===t&&a.push({...e,leaveType:l,original:r.original})})}),a},[e]),getInvalidLeaves:(0,s.useCallback)(()=>{let t=[];return e.forEach(e=>{e.leaves&&e.leaves.forEach(a=>{let{date:r}=E(a.parsed);r&&D(r)||t.push({name:e.name,original:a.original,reason:"날짜 형식이 잘못되었습니다."})})}),t},[e]),getSundayLeaves:(0,s.useCallback)(()=>{let t=[];return e.forEach(e=>{e.leaves&&e.leaves.forEach(a=>{let{date:r}=E(a.parsed);r&&D(r)&&0===new Date(r).getDay()&&t.push({name:e.name,original:a.original,date:r,reason:"일요일에 연차가 등록되었습니다."})})}),t},[e])}};async function $(e){if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.error||t.message||"HTTP Error: ".concat(e.status))}return e.json()}async function q(e,t){let a=await fetch("/api/calendar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,date:t})});await $(a)}async function R(e,t,a){let r=await fetch("/api/calendar",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,oldDate:t,newDate:a})});await $(r)}async function Z(e,t){let a=await fetch("/api/calendar",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,date:t})});await $(a)}function Q(){let{data:e,status:t}=(0,v.useSession)(),{theme:a,setTheme:l}=(0,N.F)(),[n,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>d(!0),[]);let[i,c]=(0,s.useState)("list"),[o,x]=(0,s.useState)(new Date),{staffData:h,setStaffData:D,loading:C,statusMsg:F,fetchSheetData:B,saveSheetData:S,handleUpdate:L,handleBlur:P}=J(e),{getCurrentMonthLeaves:O,getTodayLeaves:U,getInvalidLeaves:I,getSundayLeaves:z}=W(h),_=I(),$=z(),Q=null==e?void 0:e.isAdmin,X=async(e,t,a)=>{if(!Q){alert("관리자만 수정할 수 있습니다.");return}let r=t;try{if(a){let e=new Date(a);if(!isNaN(e.getTime())){let a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");r="".concat(a,"/").concat(s),String(t).toUpperCase().includes("AM")?r+=" AM":String(t).toUpperCase().includes("PM")&&(r+=" PM")}}}catch(e){}let s=prompt("연차 날짜를 수정하세요:\n\n예: 01/15, 01/15 AM, 01/15 PM",r);if(null!==s&&""!==s.trim()&&s.trim()!==t){if(!/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])(\s+(AM|PM))?$/i.test(s.trim())){alert("올바른 형식으로 입력해주세요.\n\n예: 01/15, 01/15 AM, 01/15 PM");return}try{await R(e,t,s.trim()),B()}catch(e){if(console.error(e),e.message&&(e.message.includes("invalid authentication")||e.message.includes("credentials"))){alert("세션이 만료되었습니다. 다시 로그인해주세요."),(0,v.signOut)();return}alert("수정 실패: "+e.message)}}},G=async(e,t)=>{if(!Q){alert("관리자만 삭제할 수 있습니다.");return}if(confirm("".concat(e,"님의 연차(").concat(t,")를 삭제하시겠습니까?")))try{await Z(e,t),B()}catch(e){if(console.error(e),e.message&&(e.message.includes("invalid authentication")||e.message.includes("credentials"))){alert("세션이 만료되었습니다. 다시 로그인해주세요."),(0,v.signOut)();return}alert("삭제 실패: "+e.message)}},K=async e=>{var t;if(!Q){alert("관리자만 추가할 수 있습니다.");return}let a=h.map(e=>e.name).join(", "),r=prompt("연차를 추가할 직원 이름을 입력하세요:\n\n현재 직원: ".concat(a));if(!r)return;let s=h.find(e=>e.name===r.trim());if(!s){alert("존재하지 않는 직원입니다.");return}let l=new Date(e),n=String(l.getMonth()+1).padStart(2,"0"),d=String(l.getDate()).padStart(2,"0"),i="".concat(n,"/").concat(d),c=prompt("연차 타입을 입력하세요:\n\n• 공백 또는 Enter = 종일 연차\n• AM = 오전 반차\n• PM = 오후 반차","");if(null===c)return;let o=c.trim().toUpperCase();if("A"===o&&(o="AM"),"P"===o&&(o="PM"),""!==o&&"AM"!==o&&"PM"!==o){alert("올바른 타입을 입력해주세요.\n\n• 공백 = 종일\n• AM = 오전 반차\n• PM = 오후 반차");return}let x=null===(t=s.leaves)||void 0===t?void 0:t.find(t=>{let{date:a}=E(t.parsed);return a===e});if(x){alert("".concat(s.name,"님은 이 날짜에 이미 연차가 등록되어 있습니다.\n\n기존: ").concat(x.original,"\n\n수정이 필요하면 기존 항목을 클릭해주세요."));return}let m=o?"".concat(i," ").concat(o):i;try{await q(s.name,m),B()}catch(e){if(console.error(e),e.message&&(e.message.includes("invalid authentication")||e.message.includes("credentials"))){alert("세션이 만료되었습니다. 다시 로그인해주세요."),(0,v.signOut)();return}alert("추가 실패: "+e.message)}},ee=e=>{if(Q&&confirm("정말 삭제하시겠습니까?")){let t=h.filter((t,a)=>a!==e);D(t),S(t)}};return"loading"===t?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#FDFBF7] dark:bg-[#121212] text-[#8D7B68] dark:text-[#A4907C]",children:"로딩 중..."}):(0,r.jsx)("div",{className:"min-h-screen ".concat(y.bg," ").concat(y.text," p-4 md:p-8 flex justify-center font-sans transition-colors duration-300"),children:(0,r.jsxs)("div",{className:"w-full max-w-6xl ".concat(y.paper," rounded-3xl shadow-xl overflow-hidden border ").concat(y.border," min-h-[850px] transition-colors duration-300"),children:[(0,r.jsxs)("div",{className:"bg-[#8D7B68] dark:bg-[#5C4A3A] p-6 text-white flex flex-col md:flex-row justify-between items-center shadow-md print:hidden transition-colors duration-300",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-3 tracking-wide",children:[(0,r.jsx)("span",{className:"text-[#FDFBF7]",children:"더데이치과"}),(0,r.jsx)("span",{className:"text-[#EBE5DD] font-light text-lg opacity-80 hidden md:inline",children:"| 연차 관리 시스템"})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-4 md:mt-0 items-center",children:[(0,r.jsxs)("div",{className:"bg-[#7A6A59] dark:bg-[#4A3B2F] p-1.5 rounded-full shadow-inner flex transition-colors duration-300",children:[(0,r.jsxs)("button",{onClick:()=>c("list"),className:"px-6 py-2 rounded-full transition-all duration-300 text-sm font-bold flex items-center gap-2 ".concat("list"===i?"bg-[#FDFBF7] dark:bg-[#2C2C2C] text-[#8D7B68] dark:text-[#A4907C] shadow-sm":"text-[#EBE5DD] hover:bg-[#6B5D4D] dark:hover:bg-[#3D3D3D]"),children:[(0,r.jsx)(p,{className:"w-4 h-4"})," 현황표"]}),(0,r.jsxs)("button",{onClick:()=>c("form"),className:"hidden md:flex px-6 py-2 rounded-full transition-all duration-300 text-sm font-bold items-center gap-2 ".concat("form"===i?"bg-[#FDFBF7] dark:bg-[#2C2C2C] text-[#8D7B68] dark:text-[#A4907C] shadow-sm":"text-[#EBE5DD] hover:bg-[#6B5D4D] dark:hover:bg-[#3D3D3D]"),children:[(0,r.jsx)(b,{className:"w-4 h-4"})," 신청서"]})]}),(0,r.jsx)("button",{onClick:()=>l("dark"===a?"light":"dark"),className:"ml-2 bg-[#7A6A59] dark:bg-[#4A3B2F] hover:bg-[#6B5D4D] text-[#EBE5DD] hover:text-white p-2.5 rounded-full transition shadow-sm",children:n&&"dark"===a?(0,r.jsx)(g,{className:"w-5 h-5"}):(0,r.jsx)(u,{className:"w-5 h-5"})}),(0,r.jsx)(M,{session:e,signIn:v.signIn,signOut:v.signOut})]})]}),"list"===i&&(0,r.jsx)("div",{className:"p-4 md:p-8 bg-[#FDFBF7] dark:bg-[#121212] h-full transition-colors duration-300",children:(0,r.jsxs)("div",{className:"w-full mx-auto grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-9",children:[(0,r.jsxs)("div",{className:"md:hidden mb-6",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(T,{todayLeaves:U(),loading:C,statusMsg:F})}),(0,r.jsx)(H,{leaves:O(),onLeaveClick:X,onLeaveDelete:G,session:e,getTodayString:w,formatDate:A,todayMonth:new Date().getMonth()+1,invalidLeaves:_,sundayLeaves:$})]}),(0,r.jsxs)("div",{className:"hidden md:block space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)(T,{todayLeaves:U(),loading:C,statusMsg:F})}),(0,r.jsx)("div",{className:"col-span-2",children:_.length>0||$.length>0?(0,r.jsx)("div",{className:"h-full bg-amber-50 dark:bg-amber-900/20 rounded-2xl border border-amber-200 dark:border-amber-700 p-5 flex items-center justify-center transition-colors",children:(0,r.jsx)("p",{className:"text-amber-800 dark:text-amber-300 font-medium text-center",children:"⚠️ 연차 일정 확인이 필요합니다"})}):(0,r.jsx)("div",{className:"h-full bg-white dark:bg-[#1E1E1E] rounded-2xl border border-[#F0EAE4] dark:border-[#333333] p-5 flex items-center justify-center text-[#A4907C] dark:text-[#C4B09C] font-medium transition-colors",children:"좋은 하루 보내세요 ☀️"})})]}),(0,r.jsx)(V,{viewDate:o,setViewDate:x,staffData:h,session:e,invalidLeaves:_,sundayLeaves:$,handlers:{handleLeaveClick:X,handleLeaveDelete:G,handleLeaveAdd:K}})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-[#1E1E1E] rounded-2xl shadow-sm p-4 md:p-8 border border-[#F0EAE4] dark:border-[#333333] transition-colors duration-300 mt-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-end mb-6 pb-6 border-b border-[#F0EAE4] dark:border-[#333333]",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("h2",{className:"text-xl md:text-2xl font-bold text-[#5C5552] dark:text-[#E0E0E0] flex items-center gap-2",children:[(0,r.jsx)(j,{className:"w-6 h-6 text-[#A4907C] dark:text-[#C4B09C]"}),(0,r.jsx)("span",{className:"hidden md:inline",children:"직원 연차 리스트"}),(0,r.jsx)("span",{className:"md:hidden",children:"직원 리스트"})]})}),Q&&(0,r.jsxs)("button",{onClick:()=>{if(!Q){alert("관리자 권한이 필요한 기능입니다.");return}let e=[...h,{name:"",role:"사원",date:new Date().toISOString().split("T")[0],total:11,used:0,memo:"",leaves:[],isNew:!0}];D(e),S(e)},className:"".concat(y.primary," text-white px-4 py-2 md:px-5 md:py-2.5 rounded-xl text-sm font-bold flex items-center gap-2 shadow-md transition"),children:[(0,r.jsx)(k,{className:"w-4 h-4"})," ",(0,r.jsx)("span",{className:"hidden md:inline",children:"직원 추가"}),(0,r.jsx)("span",{className:"md:hidden",children:"추가"})]})]}),C?(0,r.jsx)("div",{className:"py-20 text-center text-[#8D7B68] dark:text-[#A4907C] animate-pulse",children:"데이터를 불러오는 중입니다..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden md:block overflow-x-auto rounded-xl border border-[#F0EAE4] dark:border-[#333333]",children:(0,r.jsxs)("table",{className:"w-full text-xs text-left text-[#5C5552] dark:text-[#E0E0E0]",children:[(0,r.jsx)("thead",{className:"text-[11px] text-[#8D7B68] dark:text-[#A4907C] uppercase bg-[#F2EBE5] dark:bg-[#2D2D2D]",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-3 py-2",children:"이름"}),(0,r.jsx)("th",{className:"px-3 py-2",children:"직급"}),(0,r.jsx)("th",{className:"px-3 py-2",children:"입사일"}),(0,r.jsx)("th",{className:"px-3 py-2 text-center",children:"발생"}),(0,r.jsx)("th",{className:"px-3 py-2 text-center",children:"사용"}),(0,r.jsx)("th",{className:"px-3 py-2 text-center",children:"잔여"}),(0,r.jsx)("th",{className:"px-3 py-2",children:"비고"}),Q&&(0,r.jsx)("th",{className:"px-3 py-2 text-center",children:"관리"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-[#F0EAE4] dark:divide-[#333333]",children:h.map((e,t)=>(0,r.jsxs)("tr",{className:"bg-white dark:bg-[#1E1E1E] hover:bg-[#FDFBF7] dark:hover:bg-[#252525]",children:[(0,r.jsx)("td",{className:"px-3 py-2 font-bold whitespace-nowrap",children:Q?(0,r.jsx)("input",{type:"text",value:e.name,onChange:e=>L(t,"name",e.target.value),onBlur:P,readOnly:!e.isNew,className:"bg-transparent border-none focus:ring-0 w-20 p-0 ".concat(e.isNew?"border-b border-[#A4907C]":"cursor-default")}):e.name}),(0,r.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:Q?(0,r.jsx)("input",{type:"text",value:e.role,onChange:e=>L(t,"role",e.target.value),onBlur:P,className:"bg-transparent border-none focus:ring-0 w-16 p-0"}):e.role}),(0,r.jsx)("td",{className:"px-3 py-2 whitespace-nowrap font-mono text-[10px] text-[#8D7B68] dark:text-[#A4907C]",children:Q?(0,r.jsx)("input",{type:"date",value:e.date,onChange:e=>L(t,"date",e.target.value),onBlur:P,className:"bg-transparent border-none focus:ring-0 w-24 p-0"}):e.date}),(0,r.jsx)("td",{className:"px-3 py-2 text-center text-[#8D7B68] dark:text-[#A4907C]",children:Q?(0,r.jsx)("input",{type:"number",value:e.total,onChange:e=>L(t,"total",parseFloat(e.target.value)),onBlur:P,className:"bg-transparent border-none focus:ring-0 w-10 text-center p-0"}):e.total}),(0,r.jsx)("td",{className:"px-3 py-2 text-center text-blue-600 dark:text-blue-400 font-bold",children:e.used}),(0,r.jsx)("td",{className:"px-3 py-2 text-center font-bold text-[#5C5552] dark:text-[#E0E0E0]",children:e.total-e.used}),(0,r.jsx)("td",{className:"px-3 py-2",children:Q?(0,r.jsx)("input",{type:"text",value:e.memo||"",onChange:e=>L(t,"memo",e.target.value),onBlur:P,placeholder:"메모 입력",className:"bg-transparent border-none focus:ring-0 w-full p-0 text-[10px]"}):(0,r.jsx)("span",{className:"text-[10px] text-[#A4907C] dark:text-[#A0A0A0]",children:e.memo})}),Q&&(0,r.jsx)("td",{className:"px-3 py-2 text-center",children:(0,r.jsx)("button",{onClick:()=>ee(t),className:"text-red-400 hover:text-red-600 transition p-1",children:(0,r.jsx)(m,{className:"w-3 h-3"})})})]},t))})]})}),(0,r.jsx)("div",{className:"md:hidden grid grid-cols-1 gap-3",children:h.map((e,t)=>(0,r.jsxs)("div",{className:"bg-[#FDFBF7] dark:bg-[#2C2C2C] p-4 rounded-xl border border-[#EBE5DD] dark:border-[#444444] shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[Q?(0,r.jsx)("input",{type:"text",value:e.name,onChange:e=>L(t,"name",e.target.value),onBlur:P,readOnly:!e.isNew,className:"bg-transparent font-bold text-lg text-[#5C5552] dark:text-[#E0E0E0] w-24 p-0 border-b border-transparent focus:border-[#A4907C]"}):(0,r.jsx)("span",{className:"font-bold text-lg text-[#5C5552] dark:text-[#E0E0E0]",children:e.name}),(0,r.jsx)("span",{className:"text-xs bg-white dark:bg-[#1E1E1E] border border-[#EBE5DD] dark:border-[#444444] px-1.5 py-0.5 rounded text-[#8D7B68] dark:text-[#A4907C]",children:Q?(0,r.jsx)("input",{type:"text",value:e.role,onChange:e=>L(t,"role",e.target.value),onBlur:P,className:"bg-transparent w-10 text-center p-0"}):e.role})]}),(0,r.jsxs)("div",{className:"text-[10px] text-[#A4907C] dark:text-[#A0A0A0] mt-1 flex items-center gap-1",children:["\uD83D\uDCC5 ",Q?(0,r.jsx)("input",{type:"date",value:e.date,onChange:e=>L(t,"date",e.target.value),onBlur:P,className:"bg-transparent w-20 p-0"}):e.date," 입사"]})]}),Q&&(0,r.jsx)("button",{onClick:()=>ee(t),className:"text-red-400 p-1",children:(0,r.jsx)(m,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center mb-3",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-[#1E1E1E] p-2 rounded-lg border border-[#F0EAE4] dark:border-[#333333]",children:[(0,r.jsx)("div",{className:"text-[10px] text-[#A4907C] dark:text-[#A0A0A0]",children:"총 연차"}),(0,r.jsx)("div",{className:"font-bold text-[#5C5552] dark:text-[#E0E0E0]",children:Q?(0,r.jsx)("input",{type:"number",value:e.total,onChange:e=>L(t,"total",parseFloat(e.target.value)),onBlur:P,className:"bg-transparent w-full text-center p-0"}):e.total})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-[#1E1E1E] p-2 rounded-lg border border-[#F0EAE4] dark:border-[#333333]",children:[(0,r.jsx)("div",{className:"text-[10px] text-[#A4907C] dark:text-[#A0A0A0]",children:"사용"}),(0,r.jsx)("div",{className:"font-bold text-blue-500",children:e.used})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-[#1E1E1E] p-2 rounded-lg border border-[#F0EAE4] dark:border-[#333333]",children:[(0,r.jsx)("div",{className:"text-[10px] text-[#A4907C] dark:text-[#A0A0A0]",children:"잔여"}),(0,r.jsx)("div",{className:"font-bold text-[#8D7B68] dark:text-[#A4907C]",children:e.total-e.used})]})]}),(0,r.jsx)("div",{className:"bg-[#F2EBE5] dark:bg-[#1E1E1E] p-2 rounded-lg min-h-[40px]",children:Q?(0,r.jsx)("input",{type:"text",value:e.memo||"",onChange:e=>L(t,"memo",e.target.value),onBlur:P,placeholder:"메모 입력",className:"bg-transparent w-full text-[11px] text-[#5C5552] dark:text-[#E0E0E0] p-0 border-none focus:ring-0 placeholder-[#C4B09C]"}):(0,r.jsx)("p",{className:"text-[11px] text-[#5C5552] dark:text-[#E0E0E0]",children:e.memo})})]},t))})]})]})]}),(0,r.jsx)("div",{className:"hidden lg:block lg:col-span-3",children:(0,r.jsx)(Y,{})})]})}),"form"===i&&(0,r.jsx)("div",{className:"p-8 md:p-12 bg-white dark:bg-[#1E1E1E] min-h-[800px] flex justify-center transition-colors duration-300",children:(0,r.jsxs)("div",{className:"max-w-3xl w-full border-2 border-black dark:border-white p-8 md:p-16 relative bg-white dark:bg-[#1E1E1E] text-black dark:text-white",children:[(0,r.jsxs)("button",{onClick:()=>window.print(),className:"absolute top-4 right-4 print:hidden flex items-center gap-2 text-[#8D7B68] dark:text-[#A4907C] hover:text-[#5C5552] dark:hover:text-[#E0E0E0] font-bold",children:[(0,r.jsx)(f,{className:"w-5 h-5"})," 인쇄하기"]}),(0,r.jsxs)("div",{className:"text-center mb-16 border-b-2 border-black dark:border-white pb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-serif font-bold tracking-widest mb-4",children:"연 차 신 청 서"}),(0,r.jsx)("p",{className:"text-sm tracking-widest opacity-60",children:"LEAVE APPLICATION FORM"})]}),(0,r.jsxs)("div",{className:"space-y-12 font-serif",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"border-b border-black dark:border-white pb-2 flex gap-4 items-end",children:[(0,r.jsx)("span",{className:"text-sm font-bold w-16 text-left",children:"성 명"}),(0,r.jsx)("span",{className:"flex-1 text-center text-xl"})]}),(0,r.jsxs)("div",{className:"border-b border-black dark:border-white pb-2 flex gap-4 items-end",children:[(0,r.jsx)("span",{className:"text-sm font-bold w-16 text-left",children:"직 위"}),(0,r.jsx)("span",{className:"flex-1 text-center text-xl"})]})]}),(0,r.jsxs)("div",{className:"border-b border-black dark:border-white pb-2 flex gap-4 items-end",children:[(0,r.jsx)("span",{className:"text-sm font-bold w-16 text-left shrink-0",children:"기 간"}),(0,r.jsxs)("span",{className:"flex-1 text-center text-xl flex justify-center gap-4 items-center",children:[(0,r.jsx)("span",{children:"2024년"}),(0,r.jsx)("span",{children:"월"}),(0,r.jsx)("span",{children:"일"}),(0,r.jsx)("span",{className:"text-sm mx-2",children:"~"}),(0,r.jsx)("span",{children:"2024년"}),(0,r.jsx)("span",{children:"월"}),(0,r.jsx)("span",{children:"일"})]})]}),(0,r.jsxs)("div",{className:"border-b border-black dark:border-white pb-2 flex gap-4 items-end",children:[(0,r.jsx)("span",{className:"text-sm font-bold w-16 text-left shrink-0",children:"종 류"}),(0,r.jsxs)("div",{className:"flex-1 flex justify-around text-sm",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border border-black dark:border-white"})," 연차"]}),(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border border-black dark:border-white"})," 반차"]}),(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border border-black dark:border-white"})," 월차"]}),(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border border-black dark:border-white"})," 기타"]})]})]}),(0,r.jsxs)("div",{className:"border-b border-black dark:border-white pb-2 flex gap-4 items-end",children:[(0,r.jsx)("span",{className:"text-sm font-bold w-16 text-left shrink-0",children:"사 유"}),(0,r.jsx)("span",{className:"flex-1 text-left px-2"})]}),(0,r.jsxs)("div",{className:"mt-20 text-center space-y-4",children:[(0,r.jsx)("p",{className:"leading-loose",children:"위와 같이 휴가를 신청하오니 허락하여 주시기 바랍니다."}),(0,r.jsx)("p",{className:"mt-8 font-bold text-lg",children:"2024년 \xa0\xa0\xa0\xa0\xa0월 \xa0\xa0\xa0\xa0\xa0일"}),(0,r.jsxs)("div",{className:"mt-16 flex justify-end gap-4 items-center pr-12",children:[(0,r.jsx)("span",{children:"신청인 : "}),(0,r.jsx)("span",{className:"w-24 border-b border-black dark:border-white"}),(0,r.jsx)("span",{children:"(인)"})]})]})]}),(0,r.jsx)("div",{className:"mt-32 text-center border-t-2 border-black dark:border-white pt-8",children:(0,r.jsx)("h2",{className:"text-2xl font-bold tracking-widest",children:"더데이치과 원장 귀하"})})]})})]})})}}},function(e){e.O(0,[560,971,23,744],function(){return e(e.s=2955)}),_N_E=e.O()}]);