# PRD: 연차/오프 관리 UX/UI 개선

## 1. 개요 (Overview)
본 문서는 더데이치과 연차 관리 시스템의 사용자 경험(UX) 및 인터페이스(UI) 개선, 특히 **연차 및 오프(Off)의 추가/수정 프로세스**를 현대화하고 직관적으로 개선하기 위한 요구사항을 정의합니다.

## 2. 배경 및 문제점 (Background & Problem Statement)
현재 시스템은 연차 및 오프 관리에 있어 다음과 같은 UX/UI 문제점을 가지고 있습니다:
*   **브라우저 기본 알림창 사용**: 데이터 입력(이름, 날짜, 타입 등)을 위해 `window.prompt`와 `window.confirm`을 연속적으로 사용하고 있어 사용자 경험이 매우 낙후되어 있습니다.
*   **입력 오류 가능성**: 사용자가 날짜 형식(예: `1/1`)이나 타입(AM/PM)을 텍스트로 직접 입력해야 하므로 오타 및 형식 오류가 빈번하게 발생합니다.
*   **모바일 사용성 저하**: 모바일 환경에서 여러 번의 팝업창이 뜨는 방식은 조작이 불편하고 흐름이 끊깁니다.
*   **피드백 부족**: 입력 즉시 유효성 검사(중복, 잘못된 날짜 등) 결과를 확인하기 어렵고, 저장이 완료된 후에야 목록에서 확인이 가능합니다.

## 3. 목표 (Goals)
*   **모달(Modal) UI 도입**: `prompt` 창을 제거하고, 직관적인 폼(Form) 기반의 모달 UI로 대체합니다.
*   **입력 편의성 증대**: 텍스트 입력 대신 날짜 선택기(Date Picker), 드롭다운(Select), 라디오 버튼 등을 활용하여 입력 오류를 원천 차단합니다.
*   **통합된 경험 제공**: 연차와 오프 추가/수정을 일관된 UI에서 처리하여 학습 곡선을 낮춥니다.
*   **실시간 유효성 검사**: 입력 단계에서 중복 일정, 잘못된 날짜 등을 즉시 감지하여 사용자에게 안내합니다.

## 4. 주요 기능 요구사항 (Key Feature Requirements)

### 4.1 통합 일정 관리 모달 (Unified Schedule Modal)
연차 및 오프를 추가하거나 수정할 때 사용할 공통 모달 컴포넌트를 구현합니다.

*   **모달 진입점**:
    *   **데스크탑**: 캘린더 날짜의 `+` 버튼(연차), `OFF` 버튼(오프) 클릭 시.
    *   **모바일**: 일정 리스트 상단의 `연차 추가`, `오프 추가` 버튼 클릭 시.
    *   **수정 시**: 기존 일정(연차/오프) 클릭 시.

*   **UI 구성 요소**:
    1.  **헤더 (Header)**:
        *   타이틀: "일정 추가" 또는 "일정 수정"
        *   탭(Tab) 또는 토글: [연차] / [오프] 선택 (신규 추가 시)
    2.  **직원 선택 (Staff Selection)**:
        *   `Select` 박스 제공 (현재 등록된 직원 리스트 자동 로드).
        *   수정 모드에서는 읽기 전용(Read-only)으로 표시.
    3.  **날짜 선택 (Date Selection)**:
        *   `Date Picker` 또는 캘린더 UI 제공.
        *   기본값: 선택한 날짜 또는 오늘 날짜.
    4.  **타입 선택 (Type Selection)**:
        *   라디오 버튼 또는 버튼 그룹: [종일] / [오전 반차] / [오후 반차].
        *   직관적인 아이콘이나 색상 코딩(오전: 노랑, 오후: 주황 등) 적용 권장.
    5.  **비고 (Memo)** (오프 선택 시에만 활성화):
        *   텍스트 입력 필드.
    6.  **푸터 (Footer)**:
        *   [취소] 버튼.
        *   [삭제] 버튼 (수정 모드일 때만 노출, 붉은색).
        *   [저장] / [추가] 버튼 (유효성 검사 통과 시 활성화).

### 4.2 유효성 검사 및 피드백 (Validation & Feedback)
*   **중복 체크**: 선택한 직원이 해당 날짜에 이미 연차나 오프가 있는 경우, 저장 버튼을 비활성화하고 경고 메시지("이미 등록된 일정입니다")를 표시합니다.
*   **일요일/공휴일 체크**: 연차 선택 시 일요일이나 공휴일인 경우 경고 메시지("휴일에는 연차를 등록할 수 없습니다")를 띄우거나 확인 절차를 거칩니다.
*   **필수 값 체크**: 직원 선택 누락 시 저장 불가.

### 4.3 모바일 최적화 (Mobile Optimization)
*   모바일에서는 모달이 화면 하단에서 올라오는 **바텀 시트(Bottom Sheet)** 형태 또는 전체 화면 모달로 동작하도록 구현하여 터치 영역을 충분히 확보합니다.
*   날짜 선택 시 모바일 네이티브 데이트 피커 활용 고려.

## 5. 기술적 고려사항 (Technical Considerations)
*   **State Management**: 모달의 상태(열림/닫힘, 입력 값)를 관리하기 위한 전역 상태(Context API 또는 Zustand 등) 또는 상위 컴포넌트 상태 관리가 필요합니다.
*   **Component Reusability**: `ScheduleModal` 컴포넌트를 생성하여 `DesktopCalendar`, `MobileScheduleList`, `TodayStatusCard` 등 어디서든 호출할 수 있도록 설계합니다.
*   **API Integration**: 기존 `addLeave`, `updateLeave`, `deleteLeave`, `addOff` 등 서비스 함수들을 모달 내부에서 호출하고, 성공 시 `onRefresh` 콜백을 통해 데이터를 갱신합니다.

## 6. 성공 지표 (Success Metrics)
*   연차/오프 등록 소요 시간 30% 단축.
*   날짜/타입 입력 오류(Invalid Date Format) 발생률 0% 달성.
*   사용자(관리자) 만족도 향상 (주관적 평가).

## 7. 향후 계획 (Future Plan)
*   다건 일괄 등록 기능 (여러 날짜 또는 여러 직원 동시 선택).
*   연차 사용 내역 통계 그래프 시각화 강화.
